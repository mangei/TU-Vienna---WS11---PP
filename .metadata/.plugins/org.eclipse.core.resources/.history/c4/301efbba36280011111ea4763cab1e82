import java.util.Scanner;

/**
 * Diese Factory erzeugt MedianOperations.
 * 
 * @version 8
 * @author Manuel Geier (1126137)
 * 
 */
public class FilterFactory implements Factory {

	/**
	 * erzeugt eine neue FilterFactory.
	 */
	public FilterFactory() {
	}

	/**
	 * liest den nächsten String ein und gibt, falls dieser ‘median’ ist, eine 
	 * neue MedianOperation zurück. Tritt beim Einlesen des Strings ein Fehler 
	 * auf, oder ist der String nicht ‘median’, so wird eine FactoryException 
	 * geworfen.
	 * 
	 * @param scanner
	 *            The Scanner to use for reading parameters
	 * @return A new ClearOperation
	 */
	public Operation create(Scanner scanner) {

		// read newChar attribute
		if(scanner.hasNext()) {
			String filter = scanner.next();
			
			if("median".equals(filter)) {
				
				// place a copy of the image in the stack
				imgStack.push(new AsciiImage(img));
				
				// perform median filter operation
				img = new MedianOperation().execute(img);
				
			} else {
				errorInputMismatch = true;
			}
		} else {
			throw new FactoryException("more parameters required.");
		}
		
		return new ClearOperation();

	}

}
